<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:exsl="http://exslt.org/common" xmlns:ng="http://docbook.org/docbook-ng" xmlns:fb="http://ogp.me/ns/fb#"><head>

<title>Theory of Operation &amp; Deployment Choices - OpenStack Deployment and Operations Guide
   - Version 3.0</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"/><meta name="mavenGroupId" content="com.netapp.openstack.docs"/><meta name="mavenArtifactId" content="pom"/><meta name="mavenVersionId" content="icehouse"/><link rel="home" href="index.html" title="OpenStack Deployment and Operations Guide"/><link rel="up" href="ch_cinder.html" title="Chapter 4. OpenStack Block Storage Service (Cinder)"/><link rel="prev" href="section_cinder-api-overview.html" title="API Overview"/><link rel="next" href="section_cinder-configuration.html" title="Configuration"/><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta name="git-sha" content="5015d590bfaafd0c02e07c7b69910b639af1bb38"/><meta name="buildTime" content="2014-06-03T09:13:18-04:00"/><script type="text/javascript">
            //The id for tree cookie
            var treeCookieId = "treeview-bk-deployment-ops-guide";
            var language = "en";
            var w = new Object();
            //Localization
            txt_filesfound = 'Results';
            txt_enter_at_least_1_char = "You must enter at least one character.";
            txt_browser_not_supported = "Your browser is not supported. Use of Mozilla Firefox is recommended.";
            txt_please_wait = "Please wait. Search in progress...";
            txt_results_for = "Results for: ";
        </script><style type="text/css">
            input {
            margin-bottom: 5px;
            margin-top: 2px;
            }

            .folder {
            display: block;
            height: 22px;
            padding-left: 20px;
            background: transparent url(../common/jquery/treeview/images/folder.gif) 0 0px no-repeat;
            }
            
        </style><link rel="shortcut icon" href="../favicon.ico" type="image/x-icon"/><link rel="stylesheet" type="text/css" href="../common/css/positioning.css"/><link rel="stylesheet" type="text/css" href="../common/css/custom.css"/><!--[if IE]>
	<link rel="stylesheet" type="text/css" href="../common/css/ie.css"/>
	<![endif]--><link rel="stylesheet" type="text/css" href="../common/jquery/theme-redmond/jquery-ui-1.8.2.custom.css"/><link rel="stylesheet" type="text/css" href="../common/jquery/treeview/jquery.treeview.css"/><script type="text/javascript" src="http://code.jquery.com/jquery-1.11.0.min.js"><!----></script><script type="text/javascript" src="../common/jquery/jquery-ui-1.8.2.custom.min.js"><!----></script><script type="text/javascript" src="../common/jquery/jquery.cookie.js"><!----></script><script type="text/javascript" src="../common/jquery/treeview/jquery.treeview.min.js"><!----></script><link rel="stylesheet" type="text/css" href="http://cdn.jsdelivr.net/qtip2/2.2.0/jquery.qtip.min.css"/><script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/qtip2/2.2.0/jquery.qtip.min.js"><!--jQuery plugin for glossary popups. --></script><script type="text/javascript" src="search/htmlFileList.js"><!----></script><script type="text/javascript" src="search/htmlFileInfoList.js"><!----></script><script type="text/javascript" src="search/nwSearchFnt.js"><!----></script><script type="text/javascript" src="search/stemmers/en_stemmer.js"><!--//make this scalable to other languages as well.--></script><script type="text/javascript" src="search/index-1.js"><!----></script><script type="text/javascript" src="search/index-2.js"><!----></script><script type="text/javascript" src="search/index-3.js"><!----></script></head><body><div id="header"><a onclick="_gaq.push(['_trackEvent', 'Header', 'logo', 'click', 1]);" target="_blank" href="http://www.netapp.com"><img src="../common/images/netapp-logo.png" alt="NetApp Documentation" /></a><h1>Theory of Operation &amp; Deployment Choices</h1><div id="navheader" align="right"><!----><table class="navLinks"><tr><td><a id="showHideButton" onclick="showHideToc(); _gaq.push(['_trackEvent', 'Header', 'show/hide', 'click', 1]);" class="pointLeft" title="Hide TOC tree">Sidebar
                            </a></td><td><a accesskey="p" class="navLinkPrevious" onclick="_gaq.push(['_trackEvent', 'Header', 'prevLink', 'click', 1]);" tabindex="5" href="section_cinder-api-overview.html">Prev</a>
				      |
                                        <a accesskey="u" class="navLinkUp" onclick="_gaq.push(['_trackEvent', 'Header', 'upLink', 'click', 1]);" tabindex="5" href="ch_cinder.html">Up</a>
				  |
                                    <a accesskey="n" class="navLinkNext" onclick="_gaq.push(['_trackEvent', 'Header', 'nextLink', 'click', 1]);" tabindex="5" href="section_cinder-configuration.html">Next</a></td></tr></table></div></div><div id="toolbar" class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"><div id="toolbar-left"><p class="breadcrumbs"><a href="http://www.netapp.com/openstack">OpenStack @ NetApp</a><a href="index.html">OpenStack Deployment and Operations Guide
   - Version 3.0</a></p><a onclick="_gaq.push(['_trackEvent', 'Header', 'pdfDownload', 'click', 1]);" alt="Download a pdf of this document" class="pdficon" href="http://netapp.github.com/openstack-deploy-ops-guide/icehouse/openstack-deployment-ops-guide.pdf"><img src="../common/images/pdf.png"/></a></div></div><div id="content"><div class="section"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="section_cinder-deployment-choices"> </a>Theory of Operation &amp; Deployment Choices</h2></div></div></div><div class="simplesect"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="d6e643"> </a>Construct Mappings between Cinder and Data ONTAP</h3></div></div></div><p><strong>Cinder Backends and Storage Virtual Machines. </strong>
                 Storage Virtual Machines (SVMs, formerly known as Vservers) contain data volumes and one or more LIFs through which they serve data to clients. SVMs can either contain one or more FlexVol volumes, or a single Infinite Volume. 
            </p><p>
            SVMs securely isolate the shared virtualized data storage and network, and each SVM appears as a single dedicated storage virtual machine to clients. Each SVM has a separate administrator authentication domain and can be managed independently by its SVM administrator.
        </p><p>
            In a cluster, SVMs facilitate data access. A cluster must have at least one SVM to serve data. SVMs use the storage and network resources of the cluster. However, the volumes and LIFs are exclusive to the SVM. Multiple SVMs can coexist in a single cluster without being bound to any node in a cluster. However, they are bound to the physical cluster on which they exist.
        </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="../common/images/admon/important.png"/></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>
                When deploying Cinder with clustered Data ONTAP, the recommended mapping is to have each Cinder backend refer to a single SVM within a cluster using the <code class="option">netapp_vserver</code> configuration option. While the driver can operate without the explicit declaration of a mapping between a backend and an SVM, a variety of advanced functionality (e.g. volume type extra-specs) will be disabled.
            </p></td></tr></table></div><p><strong>Cinder volumes and FlexVol volumes. </strong>
                Data ONTAP FlexVol volumes (commonly referred to as volumes) and OpenStack Block Storage volumes (commonly referred to as Cinder volumes) are not semantically analogous. A FlexVol volume is a container of logical data elements (for example: files, Snapshot copies, clones, LUNs, et cetera) that is abstracted from physical elements (for example: individual disks, and RAID groups). A Cinder volume is a block device. Most commonly, these block devices are made available to OpenStack Compute instances. NetApp’s various driver options for deployment of FAS as a provider of Cinder storage place Cinder volumes, snapshots copies, and clones within FlexVol volumes. 
            </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="../common/images/admon/important.png"/></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>
                    The FlexVol volume is an overarching container for one or more Cinder volumes.
                </p></td></tr></table></div><p><strong>Cinder volume representation within a FlexVol volume. </strong>
                A Cinder volume has a different representation in Data ONTAP when stored in a FlexVol volume, dependent on storage protocol utilized with Cinder:
            </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="emphasis"><em>iSCSI</em></span>: When utilizing the iSCSI storage protocol, a Cinder volume is stored as an iSCSI LUN.</li><li class="listitem"><span class="emphasis"><em>NFS</em></span>: When utilizing the NFS storage protocol, a Cinder volume is a file on an NFS export.</li></ul></div><p><strong>Cinder snapshots versus NetApp snapshots. </strong>
                A NetApp snapshot copy is a point-in-time file system image. Low-overhead Snapshot copies are made possible by the unique features of the WAFL storage virtualization technology that is part of Data ONTAP. The high performance of the NetApp Snapshot makes it highly scalable.  A NetApp Snapshot takes only a few seconds to create — typically less than one second, regardless of the size of the volume or the level of activity on the NetApp storage system. After a Snapshot copy has been created, changes to data objects are reflected in updates to the current version of the objects, as if Snapshot copies did not exist. Meanwhile, the Snapshot version of the data remains completely stable. A NetApp Snapshot incurs no performance overhead; users can comfortably store up to 255 Snapshot copies per FlexVol volume, all of which are accessible as read-only and online versions of the data.
            </p><p>
             Since NetApp Snapshots are taken at the FlexVol level, they can not be directly leveraged within an OpenStack context, as a user of Cinder requests a snapshot be taken of a particular Cinder volume (not the containing FlexVol volume). As a Cinder volume is represented as either a file on NFS or an iSCSI LUN, the way that Cinder snapshots are created is through use of NetApp's FlexClone technology. By leveraging the FlexClone technology to provide Cinder snapshots, it is possible to create thousands of Cinder snapshots for a single Cinder volume.
        </p><p>
            FlexClone files or FlexClone LUNs and their parent files or LUNs that are present in the FlexClone volume continue to share blocks the same way they do in the parent FlexVol volume. In fact, all the FlexClone entities and their parents share the same underlying physical data blocks, minimizing physical disk space usage. 
        </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="../common/images/admon/important.png"/></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>
                When Cinder is deployed with Data ONTAP, Cinder snapshots are created leveraging the FlexClone feature of Data ONTAP. As such, a license option for FlexClone must be enabled.  
            </p></td></tr></table></div></div><div class="simplesect"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="d6e673"> </a>Deployment Choice: Direct versus Intermediated</h3></div></div></div><p>
            NetApp's Cinder driver can operate in two independent modes: a <span class="emphasis"><em>direct</em></span> mode where the Cinder processes directly interact with NetApp FAS storage systems, and an <span class="emphasis"><em>intermediated</em></span> mode where the Cinder processes interact with an additional software entity that issues provisioning and management requests on behalf of Cinder.
        </p><p><strong>OnCommand Workflow Automator. </strong>
                OnCommand Workflow Automator (WFA) is a flexible framework that provides automation for storage-related tasks, customization, scripting capabilities, and integration with higher-order IT systems such as orchestration software through web services.
            </p><p>
            While WFA can be utilized in conjunction with NetApp's unified Cinder driver, a deployment of Cinder and WFA does introduce additional complexity, management entities, and potential points of failure within a cloud architecture. If you have an existing set of workflows that are written within the WFA framework, and are looking to leverage them in lieu of the default provisioning behavior of the Cinder driver operating directly against a FAS system, then it may be desirable to use the intermediated mode.
        </p><p><strong>SANtricity<span class="trademark"/>® Web Services Proxy. </strong>
                The NetApp SANtricity Web Services Proxy provides access through standard HTTPS mechanisms to configuring management services for E-Series storage arrays. You can install Web Services Proxy on either Linux or Windows. As Web Services Proxy satisfies the client request by collecting data or executing configuration change requests to a target storage array, the Web Services Proxy module issues SYMbol requests to the target storage arrays. Web Services Proxy provides a Representative State Transfer (REST)-style API for managing E-Series controllers. The API enables you to integrate storage array management into other applications or ecosystems.
            </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important: Recommendation"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="../common/images/admon/important.png"/></td><th align="left">Recommendation</th></tr><tr><td align="left" valign="top"><p>
                Unless you have a significant existing investment with OnCommand Workflow Automator that you wish to leverage in an OpenStack deployment, it is recommended that you start with the <span class="emphasis"><em>direct</em></span> mode of operation when using Cinder with a NetApp FAS deployment. When using Cinder with a NetApp E-Series deployment, use of the SANtricity Web Services Proxy in the <span class="emphasis"><em>intermediated</em></span> mode is currently required. 
            </p></td></tr></table></div></div><div class="simplesect"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="d6e691"> </a>Deployment Choice: FAS vs E-Series</h3></div></div></div><p><strong>FAS. </strong>
                If rich data management, deep data protection, and storage efficiency are desired and should be availed directly by the storage, the NetApp FAS product line is a natural fit for use within Cinder deployments. Massive scalability, nondisruptive operations, proven storage efficiencies, and a unified architecture (NAS and SAN) are key features offered by the Data ONTAP storage operating system. These capabilities are frequently leveraged in existing virtualization deployments and thus align naturally to OpenStack use cases.
            </p><p><strong>E-Series. </strong>
                For cloud environments where higher performance is critical, or where higher-value data management features are not needed or are implemented within an application, NetApp's E-Series product line can provide a cost-effective underpinning for a Cinder deployment. NetApp's E-Series storage offers a feature called Dynamic Disk Pools, which simplifies data protection by removing the complexity of configuring RAID groups and allocating hot spares. Utilization is improved by dynamically spreading data, parity, and spare capacity across all drives in a pool, reducing performance bottlenecks due to hot-spots. Additionally, should a drive failure occur, DDP enables the pool to return to an optimal state significantly faster than RAID6, while reducing the performance impact during the reconstruction of a failed drive. 
            </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../common/images/admon/note.png"/></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
                As of the Icehouse release, NetApp has integrations with Cinder for both FAS and E-Series, and either storage solution can be included as part of a Cinder deployment to leverage the native benefits that either platform has to offer.
            </p></td></tr></table></div></div><div class="simplesect"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="d6e701"> </a>Deployment Choice: Clustered Data ONTAP vs Data ONTAP operating in 7-Mode</h3></div></div></div><p>
            Clustered Data ONTAP represents NetApp’s platform for delivering future innovation in the FAS product line. Its inherent qualities of virtualization of network interfaces, disk subsystem, and administrative storage controller map well to OpenStack constructs. The Storage Virtual Machine storage server (SVM, historically referred to as Vserver) can span across all nodes of a given clustered Data ONTAP deployment, for example. The elasticity provided to expand or contract a Storage Virtual Machine across horizontally scalable resources are capabilities critical to cloud deployment unique to the clustered Data ONTAP mode of operation.
        </p><p>
            The Data ONTAP 7-Mode drivers are primarily provided to allow rapid use of prior deployed FAS systems for OpenStack block storage requirements. There is no current intention to enhance the 7-Mode driver’s capabilities beyond providing basic bug fixes.
        </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important: Recommendation"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="../common/images/admon/important.png"/></td><th align="left">Recommendation</th></tr><tr><td align="left" valign="top"><p>
                NetApp strongly recommends that all OpenStack deployments built upon NetApp's FAS product set leverage clustered Data ONTAP.
            </p></td></tr></table></div></div><div class="simplesect"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="d6e708"> </a>Deployment Choice: NFS versus iSCSI</h3></div></div></div><p>
            A frequent question from customers and partners is whether to utilize NFS or iSCSI as the storage protocol with a Cinder deployment ontop of NetApp's FAS product line. 
            Both protocol options are TCP/IP-based, deliver similar throughputs and latencies, support Cinder features, snapshot copies and cloning are supported to similar degrees, as well as advertisement of other storage efficienty, data protection, and high availability features.
        </p><p><strong>iSCSI. </strong></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">At the time of publishing, the maximum number of iSCSI LUNs per NetApp cluster is either 8,192 or 49,152 - dependent on the FAS model number (refer to <a class="link" href="http://hwu.netapp.com" target="_top">Hardware Universe</a> for detailed information for a particular model). Cinder can be configured to operate with multiple NetApp clusters via multi-backend support to increase this number for an OpenStack deployment.</li><li class="listitem">LUNs consume more management resources and some management tools also have limitations on the number of LUNs.</li><li class="listitem">When Cinder is used independently of OpenStack Compute, use of iSCSI is essential to provide direct access to block devices. The Cinder driver use in conjunction with NFS relies on libvirt and the hypervisor to represent files on NFS as virtual block devices. When Cinder is utilized in bare-metal or non-virtualized environments, the NFS storage protocol is not an option.</li></ul></div><p><strong>NFS. </strong></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">The maximum number of files in a single FlexVol volume exported through NFS is dependent on the size of the FlexVol volume; a 1TB FlexVol can have 33,554,432 files (assuming 32k inodes). The theoretical maximum of files is roughly two billion.</li><li class="listitem">NFS drivers require support from the hypervisor to virtualize files and present them as block devices to an instance.</li><li class="listitem">As of the Icehouse release, the use of parallel NFS (pNFS) is supported with the NetApp unified driver, providing enhanced performance and scalability characteristics.</li></ul></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">There is no difference in the maximum size of a Cinder volume regardless of the storage protocol chosen (a file on NFS or an iSCSI LUN are both 16TB). </li><li class="listitem">Performance differences between iSCSI and NFS are normally negligible in virtualized environments; for a detailed investigation, please refer to <a class="link" href="http://www.netapp.com/us/system/pdf-reader.aspx?m=tr-3808.pdf&amp;cc=us" target="_top">NetApp TR3808: VMware vSphere and ESX 3.5 Multiprotocol Performance Comparison using FC, iSCSI, and NFS</a>.</li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important: Recommendation"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="../common/images/admon/important.png"/></td><th align="left">Recommendation</th></tr><tr><td align="left" valign="top"><p>
                Deploying NetApp's Cinder driver with clustered Data ONTAP utilizing the NFS storage protocol yields a more scalable OpenStack deployment than iSCSI with negligible performance differences. If Cinder is being used to provide block storage services independent of other OpenStack services, the iSCSI protocol must be utilized.
            </p></td></tr></table></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="../common/images/admon/tip.png"/></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>
                A related use case for using iSCSI with OpenStack deployments involves creating a FlexVol volume to serve as the storage for OpenStack compute nodes. As more hypervisor nodes are added, a master boot LUN can simply be cloned for each node, and compute nodes can become completely stateless. Since the configuration of hypervisor nodes are usually nearly identical (except for node-specific data like configuration files, logs, etc), the boot disk lends well to optimizations like deduplication and compression.
            </p><p>
                Currently this configuration must be done outside of the management scope of Cinder, but it serves as another example of how NetApp's differentiated capabilities can be leveraged to ease the deployment and ongoing operation of an OpenStack cloud deployment.
            </p></td></tr></table></div></div><div class="simplesect"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="cinder.volume_types"> </a>Using Cinder Volume Types to Create a Storage Service Catalog</h3></div></div></div><p>
            The Storage Service Catalog (SSC) is a concept that describes a set of capabilities that enables efficient, repeated, and consistent use and management of storage resources by the definition of policy-based services and the mapping of those services to the backend storage technology. It is meant to abstract away the actual technical implementations of the features at a storage backend into a set of simplified configuration options.
        </p><p>
            The storage features are organized or combined into groups based on the customer needs to achieve a particular scenario or use case. Based on the catalog of the storage features, intelligent provisioning decisions are made by infrastructure or software enabling the storage service catalog. In OpenStack, this is achieved together by the Cinder filter scheduler and the NetApp driver by making use of volume type extra-specs support together with the filter scheduler. There are some prominent features which are exposed in the NetApp driver including mirroring, de-duplication, compression, and thin provisioning.
        </p><p>
            When using the NetApp unified driver with a clustered Data ONTAP storage system, you can leverage extra specs with Cinder volume types to ensure that Cinder volumes are created on storage backends that have certain properties (e.g. QoS, mirroring, compression) configured.
        </p><p>
            Extra specs are associated with Cinder volume types, so that when users request volumes of a particular volume type, they will be created on storage backends that meet the list of requirements (e.g. available space, extra specs, etc). You can use the specs in <a class="xref" href="section_cinder-deployment-choices.html#cinder.netapp.extra_specs" title="Table 4.6. NetApp-supported Extra Specs for use with Cinder Volume Types">Table 4.6, “NetApp-supported Extra Specs for use with Cinder Volume Types”</a> later in this section when defining Cinder volume types using the <span class="command"><strong>cinder type-key</strong></span> command.
        </p><table rules="all" width="100%" id="cinder.netapp.extra_specs"><caption>Table 4.6. NetApp-supported Extra Specs for use with Cinder Volume Types</caption><col width="1.75in"/><col width="0.65in"/><col width="3.35in"/><thead><tr>
                    <td>Extra spec</td>
                    <td>Type</td>
                    <td>Description</td>
                </tr></thead><tbody><tr>
                    <td><code class="option">netapp:raid_type</code></td>
                    <td>String</td>
                    <td>Limit the candidate volume list based on one of the following raid types: <code class="option">raid4</code>, <code class="option">raid_dp</code>.</td>
                </tr><tr>
                    <td><code class="option">netapp:disk_type</code></td>
                    <td>String</td>
                    <td>Limit the candidate volume list based on one of the following disk types: <code class="option">ATA</code>, <code class="option">BSAS</code>, <code class="option">EATA</code>, <code class="option">FCAL</code>, <code class="option">FSAS</code>, <code class="option">LUN</code>, <code class="option">MSATA</code>, <code class="option">SAS</code>, <code class="option">SATA</code>, <code class="option">SCSI</code>, <code class="option">XATA</code>, <code class="option">XSAS</code>, or <code class="option">SSD</code>.</td>
                </tr><tr>
                    <td><code class="option">netapp:qos_policy_group</code></td>
                    <td>String</td>
                    <td>Limit the candidate volume list based on the name of a QoS policy group, which defines measurable Service Level Objectives that apply to the storage objects with which the policy group is associated.</td>
                </tr><tr>
                    <td><code class="option">netapp_mirrored</code></td>
                    <td>Boolean</td>
                    <td>Limit the candidate volume list to only the ones that are mirrored on the storage controller.</td>
                </tr><tr>
                    <td><code class="option">netapp_unmirrored</code></td>
                    <td>Boolean</td>
                    <td>Limit the candidate volume list to only the ones that are not mirrored on the storage controller.</td>
                </tr><tr>
                    <td><code class="option">netapp_dedup</code></td>
                    <td>Boolean</td>
                    <td>Limit the candidate volume list to only the ones that have deduplication enabled on the storage controller.</td>
                </tr><tr>
                    <td><code class="option">netapp_nodedup</code></td>
                    <td>Boolean</td>
                    <td>Limit the candidate volume list to only the ones that have deduplication disabled on the storage controller.</td>
                </tr><tr>
                    <td><code class="option">netapp_compression</code></td>
                    <td>Boolean</td>
                    <td>Limit the candidate volume list to only the ones that have compression enabled on the storage controller.</td>
                </tr><tr>
                    <td><code class="option">netapp_nocompression</code></td>
                    <td>Boolean</td>
                    <td>Limit the candidate volume list to only the ones that have compression disabled on the storage controller.</td>
                </tr><tr>
                    <td><code class="option">netapp_thin_provisioned</code></td>
                    <td>Boolean</td>
                    <td>Limit the candidate volume list to only the ones that support thin provisioning on the storage controller.</td>
                </tr><tr>
                    <td><code class="option">netapp_thick_provisioned</code></td>
                    <td>Boolean</td>
                    <td>Limit the candidate volume list to only the ones that support thick provisioning on the storage controller.</td>
                </tr></tbody></table><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Caution"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Caution]" src="../common/images/admon/caution.png"/></td><th align="left">Caution</th></tr><tr><td align="left" valign="top"><p>
                If both the positive and negative specs for a pair are specified (e.g. <code class="option">netapp_dedup</code> and <code class="option">netapp_nodedup</code>) and set to the same value within a single extra_specs list, then neither spec will be utilized by the driver.
            </p></td></tr></table></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important: Recommendation"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="../common/images/admon/important.png"/></td><th align="left">Recommendation</th></tr><tr><td align="left" valign="top"><p>
                NetApp recommends that none of the Boolean extra specs in <a class="xref" href="section_cinder-deployment-choices.html#cinder.netapp.extra_specs" title="Table 4.6. NetApp-supported Extra Specs for use with Cinder Volume Types">Table 4.6, “NetApp-supported Extra Specs for use with Cinder Volume Types”</a> be configured with a value of <code class="option">False</code>; rather only positive assertions (e.g. <code class="option">netapp_nocompression=True</code>) of the option with the negated meaning be used.
            </p></td></tr></table></div></div></div><script type="text/javascript" src="../common/main.js"><!----></script><hr/><div id="disqus_thread"><script type="text/javascript">
	      if(window.location.protocol.substring(0,4) == 'http'){
	        var disqus_shortname = '';
	      
	        var disqus_identifier = 'bk-deployment-ops-guidesection_cinder-deployment-choices';
	      
	      }
	    </script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><script type="text/javascript" src="../common/comments.js"><!----></script></div><hr/><div class="legal"><a href="index.html">Legal notices</a></div></div><div><div id="leftnavigation" style="padding-top:3px; background-color:white;"><div id="tabs"><ul><li><a href="#treeDiv" tabindex="1"><span class="contentsTab">Contents</span></a></li><li><a href="#searchDiv" tabindex="1"><span class="searchTab">Search</span></a></li></ul><div id="treeDiv"><img src="../common/images/loading.gif" alt="loading table of contents..." id="tocLoading" style="display:block;"/><div id="ulTreeDiv" style="display:none" class="thisisthat"><ul id="tree" class="filetree"><li tabindex="2"><span class="file"><a href="ch_executive-summary.html">1. Executive Summary</a></span><ul><li tabindex="2"><span class="file"><a href="authors-and-contributors.html">Authors and Contributors</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="ch_openstack-overview.html">2. OpenStack Overview</a></span><ul><li tabindex="2"><span class="file"><a href="section_openstack-foundation.html">OpenStack Foundation</a></span></li><li tabindex="2"><span class="file"><a href="section_modular-collection.html">OpenStack - A Modular Collection of Cloud Services</a></span><ul><li tabindex="2"><span class="file"><a href="section_modular-collection.html#d6e96">OpenStack Compute (project name: Nova)</a></span></li><li tabindex="2"><span class="file"><a href="section_modular-collection.html#d6e99">OpenStack Block Storage (project name: Cinder)</a></span></li><li tabindex="2"><span class="file"><a href="section_modular-collection.html#d6e102">OpenStack Object Storage (project name: Swift)</a></span></li><li tabindex="2"><span class="file"><a href="section_modular-collection.html#d6e105">OpenStack Dashboard (project name: Horizon)</a></span></li><li tabindex="2"><span class="file"><a href="section_modular-collection.html#d6e108">OpenStack Identity (project name: Keystone)</a></span></li><li tabindex="2"><span class="file"><a href="section_modular-collection.html#d6e116">OpenStack Image Service (project name: Glance)</a></span></li><li tabindex="2"><span class="file"><a href="section_modular-collection.html#d6e119">OpenStack Network Service (project name: Neutron)</a></span></li><li tabindex="2"><span class="file"><a href="section_modular-collection.html#d6e122">OpenStack Telemetry (project name: Ceilometer)</a></span></li><li tabindex="2"><span class="file"><a href="section_modular-collection.html#d6e125">OpenStack Orchestration (project name: Heat)</a></span></li><li tabindex="2"><span class="file"><a href="section_modular-collection.html#d6e128">OpenStack Database as a Service (project name: Trove)</a></span></li><li tabindex="2"><span class="file"><a href="section_modular-collection.html#d6e131">OpenStack Hadoop as a Service (project name: Sahara)</a></span></li><li tabindex="2"><span class="file"><a href="section_modular-collection.html#d6e134">OpenStack File Share Service (project name: Manila)</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="section_releases-distributions.html">OpenStack Releases and Distributions</a></span></li><li tabindex="2"><span class="file"><a href="section_contributions.html">NetApp's Contributions To OpenStack</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="ch_netapp-storage.html">3. About NetApp Storage Systems and Software</a></span><ul><li tabindex="2"><span class="file"><a href="section_data-ontap.html">Description of Data ONTAP</a></span><ul><li tabindex="2"><span class="file"><a href="section_data-ontap.html#d6e199">Clustered Data ONTAP</a></span></li><li tabindex="2"><span class="file"><a href="section_data-ontap.html#d6e239">Data ONTAP operating in 7-Mode</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="section_fas-systems.html">Description of FAS Systems</a></span></li><li tabindex="2"><span class="file"><a href="section_e-ef-series.html">Description of E-Series and EF-Series Systems</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="ch_cinder.html">4. OpenStack Block Storage Service (Cinder)</a></span><ul><li tabindex="2"><span class="file"><a href="section_cinder-overview.html">Overview</a></span></li><li tabindex="2"><span class="file"><a href="section_cinder-key-concepts.html">Key Concepts</a></span><ul><li tabindex="2"><span class="file"><a href="section_cinder-key-concepts.html#d6e286">Volume</a></span></li><li tabindex="2"><span class="file"><a href="section_cinder-key-concepts.html#d6e294">Snapshot</a></span></li><li tabindex="2"><span class="file"><a href="section_cinder-key-concepts.html#d6e298">Backend</a></span></li><li tabindex="2"><span class="file"><a href="section_cinder-key-concepts.html#d6e308">Driver</a></span></li><li tabindex="2"><span class="file"><a href="section_cinder-key-concepts.html#d6e313">Volume Type</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="section_cinder-processes.html">Process Structure</a></span><ul><li tabindex="2"><span class="file"><a href="section_cinder-processes.html#d6e368">Volume Creation Workflow</a></span></li><li tabindex="2"><span class="file"><a href="section_cinder-processes.html#d6e396">Volume Attach Workflow</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="section_cinder-api-overview.html">API Overview</a></span><ul><li tabindex="2"><span class="file"><a href="section_cinder-api-overview.html#d6e428">Volume API</a></span></li><li tabindex="2"><span class="file"><a href="section_cinder-api-overview.html#d6e484">Snapshot API</a></span></li><li tabindex="2"><span class="file"><a href="section_cinder-api-overview.html#d6e534">Volume Type API</a></span></li><li tabindex="2"><span class="file"><a href="section_cinder-api-overview.html#d6e564">Volume Type Extra Specs API</a></span></li><li tabindex="2"><span class="file"><a href="section_cinder-api-overview.html#d6e591">Volume Type QoS Specs API</a></span></li></ul></li><li tabindex="2" id="webhelp-currentid"><span class="file"><a href="section_cinder-deployment-choices.html">Theory of Operation &amp; Deployment Choices</a></span><ul><li tabindex="2"><span class="file"><a href="section_cinder-deployment-choices.html#d6e643">Construct Mappings between Cinder and Data ONTAP</a></span></li><li tabindex="2"><span class="file"><a href="section_cinder-deployment-choices.html#d6e673">Deployment Choice: Direct versus Intermediated</a></span></li><li tabindex="2"><span class="file"><a href="section_cinder-deployment-choices.html#d6e691">Deployment Choice: FAS vs E-Series</a></span></li><li tabindex="2"><span class="file"><a href="section_cinder-deployment-choices.html#d6e701">Deployment Choice: Clustered Data ONTAP vs Data ONTAP operating in 7-Mode</a></span></li><li tabindex="2"><span class="file"><a href="section_cinder-deployment-choices.html#d6e708">Deployment Choice: NFS versus iSCSI</a></span></li><li tabindex="2"><span class="file"><a href="section_cinder-deployment-choices.html#cinder.volume_types">Using Cinder Volume Types to Create a Storage Service Catalog</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="section_cinder-configuration.html">Configuration</a></span><ul><li tabindex="2"><span class="file"><a href="cinder.configuration.html">Cinder</a></span><ul><li tabindex="2"><span class="file"><a href="cinder.configuration.html#d6e841">cinder.conf</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="cinder.netapp.drivers.html">NetApp Data ONTAP Drivers for OpenStack Block Storage (Cinder)</a></span><ul><li tabindex="2"><span class="file"><a href="cinder.netapp.drivers.html#d6e862">Where to Obtain the Drivers</a></span></li><li tabindex="2"><span class="file"><a href="cinder.netapp.drivers.html#d6e870">Multiple Deployment Options</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="cinder.cdot.iscsi.configuration.html">NetApp Unified Driver for Clustered Data ONTAP with iSCSI</a></span><ul><li tabindex="2"><span class="file"><a href="cinder.cdot.iscsi.configuration.html#d6e891">Configuration Options</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="cinder.cdot.nfs.configuration.html">NetApp Unified Driver for Clustered Data ONTAP with NFS</a></span><ul><li tabindex="2"><span class="file"><a href="cinder.cdot.nfs.configuration.html#d6e1003">Configuration Options</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="cinder.7mode.iscsi.configuration.html">NetApp Unified Driver for Data ONTAP operating in 7-Mode with iSCSI</a></span><ul><li tabindex="2"><span class="file"><a href="cinder.7mode.iscsi.configuration.html#d6e1140">Configuration Options</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="cinder.7mode.nfs.configuration.html">NetApp Unified Driver for Data ONTAP operating in 7-Mode with NFS</a></span><ul><li tabindex="2"><span class="file"><a href="cinder.7mode.nfs.configuration.html#d6e1259">Configuration Options</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="cinder.fas.configuration.html">Data ONTAP Configuration</a></span><ul><li tabindex="2"><span class="file"><a href="cinder.fas.configuration.html#d6e1383">Data ONTAP Prerequisites</a></span></li><li tabindex="2"><span class="file"><a href="cinder.fas.configuration.html#d6e1396">Storage Virtual Machine Considerations</a></span></li><li tabindex="2"><span class="file"><a href="cinder.fas.configuration.html#cinder.cdot.account_permissions">Account Permission Considerations</a></span></li><li tabindex="2"><span class="file"><a href="cinder.fas.configuration.html#d6e1620">Storage Networking Considerations</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="cinder.eseries.iscsi.configuration.html">NetApp E-Series Driver for OpenStack Block Storage (Cinder)</a></span><ul><li tabindex="2"><span class="file"><a href="cinder.eseries.iscsi.configuration.html#d6e1633">Deployment Topology</a></span></li><li tabindex="2"><span class="file"><a href="cinder.eseries.iscsi.configuration.html#d6e1654">Configuration Options</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="cinder.eseries.configuration.html">E-Series Configuration</a></span><ul><li tabindex="2"><span class="file"><a href="cinder.eseries.configuration.html#d6e1783">E-Series Prerequisites</a></span></li><li tabindex="2"><span class="file"><a href="cinder.eseries.configuration.html#d6e1789">Storage Networking Considerations</a></span></li></ul></li></ul></li><li tabindex="2"><span class="file"><a href="section_cinder-examples.html">Examples</a></span><ul><li tabindex="2"><span class="file"><a href="cinder.examples.cinder_conf.html">cinder.conf</a></span></li><li tabindex="2"><span class="file"><a href="cinder.examples.cdot.html">Clustered Data ONTAP</a></span></li><li tabindex="2"><span class="file"><a href="cinder.examples.cinder_cli.html">Cinder Command Line Interface (CLI)</a></span><ul><li tabindex="2"><span class="file"><a href="cinder.examples.cinder_cli.html#d6e1821">Cinder Service Verfification</a></span></li><li tabindex="2"><span class="file"><a href="cinder.examples.cinder_cli.html#d6e1839">Creating and Defining Cinder Volume Types</a></span></li><li tabindex="2"><span class="file"><a href="cinder.examples.cinder_cli.html#d6e1868">Creating Cinder Volumes with Volume Types</a></span></li></ul></li></ul></li></ul></li><li tabindex="2"><span class="file"><a href="ch_glance-image-service.html">5. OpenStack Image Service (Glance)</a></span><ul><li tabindex="2"><span class="file"><a href="section_glance-overview.html">Overview</a></span></li><li tabindex="2"><span class="file"><a href="section_glance-key-concepts.html">Key Concepts</a></span><ul><li tabindex="2"><span class="file"><a href="section_glance-key-concepts.html#d6e1912">Image</a></span></li><li tabindex="2"><span class="file"><a href="section_glance-key-concepts.html#d6e1917">Store</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="section_glance-deployment-choices.html">Theory of Operation &amp; Deployment Choices</a></span><ul><li tabindex="2"><span class="file"><a href="section_glance-deployment-choices.html#d6e1940">Glance and Clustered Data ONTAP</a></span></li><li tabindex="2"><span class="file"><a href="section_glance-deployment-choices.html#glance.rapid_cloning">Enhanced Instance Creation</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="section_glance-configuration.html">Configuration</a></span><ul><li tabindex="2"><span class="file"><a href="glance.configuration.html">Glance</a></span></li><li tabindex="2"><span class="file"><a href="glance.fas.configuration.html">Configuration of Glance with NetApp FAS</a></span></li><li tabindex="2"><span class="file"><a href="glance.eseries.configuration.html">Configuration of Glance with NetApp E-Series and EF-Series</a></span></li></ul></li></ul></li><li tabindex="2"><span class="file"><a href="ch_nova.html">6. OpenStack Compute Service (Nova)</a></span><ul><li tabindex="2"><span class="file"><a href="section_nova-overview.html">Overview</a></span></li><li tabindex="2"><span class="file"><a href="section_nova-key-concepts.html">Key Concepts</a></span><ul><li tabindex="2"><span class="file"><a href="section_nova-key-concepts.html#d6e2071">Instance</a></span></li><li tabindex="2"><span class="file"><a href="section_nova-key-concepts.html#d6e2078">Flavor</a></span></li><li tabindex="2"><span class="file"><a href="section_nova-key-concepts.html#d6e2082">Root (and ephemeral) disks</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="section_nova-deployment-choices.html">Theory of Operation &amp; Deployment Choices</a></span><ul><li tabindex="2"><span class="file"><a href="section_nova-deployment-choices.html#nova.boot.options">Root Disk Choices When Booting Nova Instances</a></span></li><li tabindex="2"><span class="file"><a href="section_nova-deployment-choices.html#nova.instance.snapshots">Instance Snapshots vs. Cinder Snapshots</a></span></li><li tabindex="2"><span class="file"><a href="section_nova-deployment-choices.html#nova.instance.storage">Instance Storage Options at the Hypervisor</a></span></li></ul></li></ul></li><li tabindex="2"><span class="file"><a href="ch_swift.html">7. OpenStack Object Storage Service (Swift)</a></span><ul><li tabindex="2"><span class="file"><a href="section_swift-overview.html">Overview</a></span><ul><li tabindex="2"><span class="file"><a href="section_swift-overview.html#d6e2153">DDP Reconstruction</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="section_swift-e-series.html">Swift Zones and NetApp E-Series Storage</a></span></li><li tabindex="2"><span class="file"><a href="section_swift-disk-pools.html">Disk Pools, Volumes, and Mapping</a></span></li><li tabindex="2"><span class="file"><a href="section_swift-partitioning.html">Partitioning and File System Considerations</a></span><ul><li tabindex="2"><span class="file"><a href="section_swift-partitioning.html#d6e2207">Partitioning with Multipath</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="section_swift-ring-considerations.html">Swift Ring Considerations with DDP</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="ch_operations.html">8. Operational Concerns</a></span><ul><li tabindex="2"><span class="file"><a href="section_cdot-ops.html">Operational Concerns with Data ONTAP</a></span><ul><li tabindex="2"><span class="file"><a href="section_cdot-ops.html#ops.thin_provisioning">Considerations for using thin provisioning with FlexVol volumes</a></span></li><li tabindex="2"><span class="file"><a href="section_cdot-ops.html#ops.nfs">NFS Best Practices</a></span></li><li tabindex="2"><span class="file"><a href="section_cdot-ops.html#ops.volume.migration">Volume Migration</a></span></li></ul></li></ul></li><li tabindex="2"><span class="file"><a href="appendix_packaging.html">A. Packaging</a></span><ul><li tabindex="2"><span class="file"><a href="appendix.packaging.requirements.html">Packaging and Downloading Requirements</a></span></li><li tabindex="2"><span class="file"><a href="appendix.packaging.install.html">Installation and Uninstallation</a></span></li><li tabindex="2"><span class="file"><a href="appendix.packaging.upgrading.html">Upgrading and Reverting</a></span></li><li tabindex="2"><span class="file"><a href="appendix.packaging.licensing.html">Licensing</a></span></li><li tabindex="2"><span class="file"><a href="appendix.packaging.versioning.html">Versioning</a></span></li><li tabindex="2"><span class="file"><a href="appendix.packaging.deprecation.html">Deprecated Drivers</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="appendix_debug.html">B. Troubleshooting</a></span><ul><li tabindex="2"><span class="file"><a href="appendix.debug.common_problems.html">Common Problems</a></span></li><li tabindex="2"><span class="file"><a href="appendix.debug.triage.html">Triage and Data Collection</a></span><ul><li tabindex="2"><span class="file"><a href="appendix.debug.triage.html#d6e2482">Cinder processes</a></span></li><li tabindex="2"><span class="file"><a href="appendix.debug.triage.html#d6e2488">Nova processes</a></span></li><li tabindex="2"><span class="file"><a href="appendix.debug.triage.html#d6e2494">Glance processes</a></span></li><li tabindex="2"><span class="file"><a href="appendix.debug.triage.html#d6e2499">Swift processes</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="appendix.debug.references.html">References</a></span></li><li tabindex="2"><span class="file"><a href="appendix.debug.support.html">Support</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="ch_backpage.html">About NetApp</a></span></li></ul></div></div><div id="searchDiv"><div id="search"><form onsubmit="Verifie(ditaSearch_Form);return false" name="ditaSearch_Form" class="searchForm"><fieldset class="searchFieldSet"><legend>Search</legend><center><input id="textToSearch" name="textToSearch" type="text" class="searchText"/> &nbsp; <input onclick="Verifie(ditaSearch_Form)" type="button" class="searchButton" value="Go" id="doSearch"/></center></fieldset></form></div><div id="searchResults"><center/></div><p class="searchHighlight"><a href="#" onclick="toggleHighlight()">Search Highlighter (On/Off)</a></p></div></div></div></div></body></html>